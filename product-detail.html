<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ürün Detayı - Cem Reklam</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;600;700&family=Open+Sans:wght@400;500;600&display=swap" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
</head>
<body>
    <!-- Sabit WhatsApp Butonu -->
    <a href="https://wa.me/905551234567?text=Merhaba,%20promosyon%20ürünleriniz%20hakkında%20bilgi%20almak%20istiyorum." class="whatsapp-button" target="_blank">
        <i class="fab fa-whatsapp"></i>
    </a>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
        <div class="container">
            <a class="navbar-brand fw-bold fs-3" href="index.html">Cem Reklam</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html">Ana Sayfa</a></li>
                    <li class="nav-item"><a class="nav-link" href="products.html">Ürünler</a></li>
                    <li class="nav-item"><a class="nav-link" href="index.html#categories">Kategoriler</a></li>
                    <li class="nav-item"><a class="nav-link" href="#about">Hakkımızda</a></li>
                </ul>
                <div class="d-flex align-items-center">
                    <form class="d-flex me-3" id="search-form">
                        <input class="form-control me-2" type="search" placeholder="Ürün ara...">
                        <button class="btn btn-outline-light" type="submit"><i class="fas fa-search"></i></button>
                    </form>
                    <a href="cart.html" class="btn btn-accent me-2 position-relative">
                        <i class="fas fa-shopping-cart"></i>
                        <span id="cart-count" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">0</span>
                    </a>
                    <a href="https://wa.me/905551234567?text=Merhaba,%20hızlı%20teklif%20almak%20istiyorum." target="_blank" class="btn btn-outline-light">Hızlı Teklif Al</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Breadcrumb -->
    <section class="bg-light py-3" style="margin-top: 76px;">
        <div class="container">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb mb-0">
                    <li class="breadcrumb-item"><a href="index.html" class="text-decoration-none">Ana Sayfa</a></li>
                    <li class="breadcrumb-item"><a href="products.html" class="text-decoration-none">Ürünler</a></li>
                    <li id="breadcrumb-category" class="breadcrumb-item"><a href="#" class="text-decoration-none">Kategori</a></li>
                    <li id="breadcrumb-product-name" class="breadcrumb-item active">Ürün Adı</li>
                </ol>
            </nav>
        </div>
    </section>

    <!-- Product Detail -->
    <section class="py-5">
        <div class="container">
            <div class="row g-5" id="product-detail-content">
                <!-- Ürün Detayları JavaScript ile buraya yüklenecek -->
            </div>
        </div>
    </section>

    <!-- Footer (index.html ile aynı) -->
    <footer class="bg-primary text-white py-5">
        <div class="container">
            <!-- Footer içeriği buraya gelecek (products.html'den kopyalanabilir) -->
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Teklif Listesi ve Ürün Detay Scripti -->
    <script>
        // --- TEKLİF LİSTESİ FONKSİYONLARI (products.html ile aynı) ---
        function getQuoteList() { return JSON.parse(localStorage.getItem('quoteList')) || []; }
        function saveQuoteList(list) { localStorage.setItem('quoteList', JSON.stringify(list)); updateCartCount(); }
        function addToQuoteList(id, name, image) {
            let list = getQuoteList();
            const existingProduct = list.find(item => item.id === id);
            if (!existingProduct) {
                list.push({ id, name, image, quantity: 1 });
                saveQuoteList(list);
                alert('"' + name + '" teklif listesine eklendi!');
            } else {
                alert('Bu ürün zaten listenizde.');
            }
        }
        function updateCartCount() {
            const list = getQuoteList();
            const cartCount = document.getElementById('cart-count');
            if (cartCount) { cartCount.textContent = list.length; }
        }

        // --- SAYFA YÜKLENDİĞİNDE ÇALIŞACAK KODLAR ---
        document.addEventListener('DOMContentLoaded', function () {
            updateCartCount();

            // --- TÜM ÜRÜNLERİN VERİSİ (products.html ile aynı olmalı) ---
            const allProducts = [
                { id: 'p1', name: 'Promosyon Tükenmez Kalem', description: 'Logonuza özel baskılı, kaliteli metal kalem.', price_range: '8 TL - 18 TL', image: 'product-2.png', category: 'kirtasiye', long_description: 'Markanızı her an el altında tutacak şık ve kullanışlı bir hediye. Metal gövdesi ve kaliteli mürekkebi ile uzun ömürlüdür. Lazer veya tampon baskı seçenekleri mevcuttur.' },
                { id: 'p2', name: 'Baskılı Bez Çanta', description: 'Doğa dostu, dayanıklı ve geniş baskı alanı.', price_range: '25 TL - 45 TL', image: 'product-2.png', category: 'tekstil', long_description: 'Fuar, etkinlik ve günlük kullanım için idealdir. %100 pamuklu kumaştan üretilmiştir. Geniş baskı alanı sayesinde markanızın logosu ve mesajı net bir şekilde görünür.' },
                { id: 'p3', name: 'Spiralli Not Defteri', description: 'Kapak ve iç sayfalara özel baskı imkanı.', price_range: '30 TL - 60 TL', image: 'product-2.png', category: 'kirtasiye', long_description: 'Toplantıların ve günlük notların vazgeçilmezi. Sert kapak üzerine logo baskısı ve iç sayfalara özel tasarım seçenekleri ile tamamen kurumsal kimliğinize uygun hale getirilebilir.' },
                { id: 'p4', name: 'Logolu Powerbank', description: '10.000 mAh kapasiteli, hızlı şarj özellikli.', price_range: '150 TL - 250 TL', image: 'product-2.png', category: 'teknoloji', long_description: 'Müşterilerinizin ve çalışanlarınızın her zaman şarjı dolu olsun. 10.000 mAh kapasitesi ile birden fazla cihazı şarj edebilir. Üzerine lazer veya renkli baskı yapılabilir.' }
                // Diğer ürünler de buraya eklenebilir...
            ];
            
            const categoryNames = {
                'kirtasiye': 'Kırtasiye & Ofis',
                'tekstil': 'Tekstil',
                'teknoloji': 'Teknoloji',
                'diger': 'Diğer'
            };

            // --- URL'den ürün ID'sini al ve ürünü bul ---
            const params = new URLSearchParams(window.location.search);
            const productId = params.get('id');
            const product = allProducts.find(p => p.id === productId);

            const contentContainer = document.getElementById('product-detail-content');

            if (product) {
                // Sayfa başlığını ve breadcrumb'ı güncelle
                document.title = `${product.name} - Cem Reklam`;
                document.getElementById('breadcrumb-category').firstElementChild.textContent = categoryNames[product.category];
                document.getElementById('breadcrumb-product-name').textContent = product.name;

                // Ürün detaylarını ekrana yazdır
                contentContainer.innerHTML = `
                    <div class="col-lg-6">
                        <img src="img/${product.image}" class="img-fluid rounded-3 shadow-sm" alt="${product.name}">
                    </div>
                    <div class="col-lg-6">
                        <h1 class="fw-bold text-primary mb-3">${product.name}</h1>
                        <div class="price-section mb-4">
                            <span class="h2 text-primary fw-bold">${product.price_range}</span>
                            <small class="text-muted ms-2">(Adete göre değişir)</small>
                        </div>
                        <div class="product-description mb-4">
                            <p class="lead">${product.long_description || product.description}</p>
                        </div>
                        <div class="mb-4">
                            <h6 class="fw-bold mb-2">Minimum Sipariş Adeti:</h6>
                            <p>100 Adet</p>
                        </div>
                        <div class="mb-4">
                            <h6 class="fw-bold mb-2">Baskı Seçenekleri:</h6>
                            <p>Lazer Baskı, Tampon Baskı, UV Baskı</p>
                        </div>
                        <div class="d-flex gap-3 mb-4">
                            <button class="btn btn-primary btn-lg flex-grow-1" onclick="addToQuoteList('${product.id}', '${product.name}', '${product.image}')">
                                <i class="fas fa-plus me-2"></i>Teklif Listesine Ekle
                            </button>
                            <a href="https://wa.me/905551234567?text=Merhaba,%20${product.name}%20hakkında%20bilgi%20almak%20istiyorum." target="_blank" class="btn btn-success btn-lg">
                                <i class="fab fa-whatsapp me-2"></i>WhatsApp'tan Sor
                            </a>
                        </div>
                    </div>
                `;
            } else {
                contentContainer.innerHTML = '<div class="col-12"><p class="text-center">Ürün bulunamadı.</p></div>';
            }
        });
    </script>
</body>
</html>
